<% if current_or_guest_user %>
<%= form_for(@list) do |f| %>
    <% if @list.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@list.errors.count, "error") %> prohibited this list from being saved:</h2>
        <ul>
          <% @list.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

  <a class="btn btn-primary" data-toggle="collapse" href="#tag" role="button" aria-expanded="false" aria-controls="collapse">
    Add tags
  </a>
  <a class="btn btn-primary" data-toggle="collapse" href="#ddl" role="button" aria-expanded="false" aria-controls="collapse">
    Add deadline
  </a>
    <h3>
    <div class="form-inline">
        <%= f.text_field :description, placeholder: "todo", size: 40, class: "form-control mr-sm-2",  :required => 'required' %>
        <div class="collapse" id="tag"><%= f.text_field :tag_list, placeholder: "tags (separated by commas)", size: 40, class: "form-control mr-sm-2" %></div>
        <div class="collapse" id="ddl">
          <%= f.date_field :ddl, class: "form-control mr-sm-2" %>
        </div>
        <%= f.submit "Add", class: 'btn btn-outline-secondary my-2 my-sm-0',  :required => 'required' %>
    </div>
    </h3>
  <% end %>
  <% end %>

  <! –– toggle the display ––> 
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript">
function toggleDiv(divId) {
   $("#"+divId).toggle();
}
</script>
